---
batch_connect:
  template: turbovnc
  geometry: "1024x768"
script:
  reservation_id: <%= custom_reservation %>
  email: <%= custom_email_address %>
  native:
    - "--mem=<%= custom_memory_per_node.blank? ? 2 : custom_memory_per_node.to_s %>G"
    - "--time=<%= custom_time.blank? ? "04:00:00" : custom_time.to_s %>"
    - "--nodes=1"
    - "--ntasks=<%= custom_num_tasks.blank? ? 1 : custom_num_tasks.to_i %>"
    - "--cpus-per-task=<%= custom_num_cores.blank? ? 1 : custom_num_cores.to_i %>"
   <%- if !custom_num_gpus.to_i.zero? -%>
    - "--gres=gpu:<%= custom_num_gpus.to_i %>"
   <%- end -%>

